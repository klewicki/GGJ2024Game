[gd_scene load_steps=12 format=3 uid="uid://ba0cue6ojxyu8"]

[ext_resource type="Script" path="res://Scripts/ServerClientSelector.gd" id="1_e0jjg"]
[ext_resource type="Script" path="res://Scripts/ServerPanelController.gd" id="2_os6k0"]
[ext_resource type="PackedScene" uid="uid://dmm1atu8aj5wx" path="res://Prefabs/ClientServerPrefab.tscn" id="3_no7ip"]
[ext_resource type="PackedScene" uid="uid://hd7jkwfwvg6w" path="res://scenes/Gameplay.tscn" id="4_xbs5o"]
[ext_resource type="Script" path="res://Scripts/ClientPanelController.gd" id="6_88563"]
[ext_resource type="Texture2D" uid="uid://cghy6latq654s" path="res://Sprites/UI/Buttons/buttons_up.png" id="6_x4kxo"]
[ext_resource type="Texture2D" uid="uid://dkf4p0aq3hwg5" path="res://Sprites/UI/Buttons/buttons_down.png" id="7_j7jj7"]
[ext_resource type="Texture2D" uid="uid://cxbu3b3cmrkvg" path="res://Sprites/UI/Buttons/buttons_left.png" id="8_jpdbo"]
[ext_resource type="Texture2D" uid="uid://dqxktd8a8hidt" path="res://Sprites/UI/Buttons/buttons_right.png" id="9_d7qsu"]
[ext_resource type="Texture2D" uid="uid://dq4cndimm2g4s" path="res://Sprites/UI/Buttons/buttons_attack.png" id="10_awiyy"]

[sub_resource type="LabelSettings" id="LabelSettings_x4g11"]
line_spacing = 2.0
font_size = 10
shadow_size = 0

[node name="MainMenu" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="ClientServerSelectionPanel" type="Panel" parent="." node_paths=PackedStringArray("ClientServerSelectionPanel", "ClientPanel", "ServerPanel", "ServerAdress")]
custom_minimum_size = Vector2(250, 25)
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_e0jjg")
ClientServerPrefab = ExtResource("3_no7ip")
ClientServerSelectionPanel = NodePath(".")
ClientPanel = NodePath("../ClientPanel")
ServerPanel = NodePath("../ServerPanel")
ServerAdress = NodePath("ClientServerSelectionPanelContainer/LineEdit")

[node name="ClientServerSelectionPanelContainer" type="VBoxContainer" parent="ClientServerSelectionPanel"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.4
anchor_top = 0.3
anchor_right = 0.6
anchor_bottom = 0.7
grow_horizontal = 2
grow_vertical = 2

[node name="Label" type="Label" parent="ClientServerSelectionPanel/ClientServerSelectionPanelContainer"]
layout_mode = 2
size_flags_vertical = 0
text = "                     Is this a client or server device?                "
horizontal_alignment = 1
vertical_alignment = 1

[node name="ServerButton" type="Button" parent="ClientServerSelectionPanel/ClientServerSelectionPanelContainer"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
text = "Server"

[node name="ClientButton" type="Button" parent="ClientServerSelectionPanel/ClientServerSelectionPanelContainer"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 8
text = "Client"

[node name="Label2" type="Label" parent="ClientServerSelectionPanel/ClientServerSelectionPanelContainer"]
layout_mode = 2
size_flags_horizontal = 4
text = "Server address (fill for client only):"

[node name="LineEdit" type="LineEdit" parent="ClientServerSelectionPanel/ClientServerSelectionPanelContainer"]
custom_minimum_size = Vector2(150, 0)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
text = "127.0.0.1"
placeholder_text = "127.0.0.1"

[node name="ServerPanel" type="Panel" parent="." node_paths=PackedStringArray("ServerPanel", "PlayerCountLabel")]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("2_os6k0")
GameplayScene = ExtResource("4_xbs5o")
ServerPanel = NodePath(".")
PlayerCountLabel = NodePath("ServerPanelVBoxContainer/PlayerCountLabel")

[node name="ServerPanelVBoxContainer" type="VBoxContainer" parent="ServerPanel"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.3
anchor_top = 0.2
anchor_right = 0.7
anchor_bottom = 0.8
grow_horizontal = 2
grow_vertical = 2

[node name="InfoLabel" type="Label" parent="ServerPanel/ServerPanelVBoxContainer"]
layout_mode = 2
text = "Waiting for players to join."
horizontal_alignment = 1

[node name="PlayerCountLabel" type="Label" parent="ServerPanel/ServerPanelVBoxContainer"]
layout_mode = 2
text = "Current players: 0"
horizontal_alignment = 1

[node name="StartGameButton" type="Button" parent="ServerPanel/ServerPanelVBoxContainer"]
layout_mode = 2
text = "Start game"

[node name="ClientPanel" type="Panel" parent="." node_paths=PackedStringArray("DebugLabel", "Power0Button", "Power1Button", "Power2Button")]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("6_88563")
DebugLabel = NodePath("DebugLabel")
Power0Button = NodePath("Power0Button")
Power1Button = NodePath("Power1Button")
Power2Button = NodePath("Power2Button")

[node name="Power0Button" type="Button" parent="ClientPanel"]
layout_mode = 2
offset_right = 72.0
offset_bottom = 31.0
text = "Power 0"

[node name="Power1Button" type="Button" parent="ClientPanel"]
layout_mode = 2
offset_left = 131.0
offset_top = 3.0
offset_right = 202.0
offset_bottom = 34.0
text = "Power 1"

[node name="Power2Button" type="Button" parent="ClientPanel"]
layout_mode = 2
offset_left = 249.0
offset_right = 320.0
offset_bottom = 31.0
text = "Power 2"

[node name="DebugLabel" type="Label" parent="ClientPanel"]
layout_mode = 2
offset_top = 119.0
offset_right = 320.0
offset_bottom = 180.0
text = "Debug log:
"
label_settings = SubResource("LabelSettings_x4g11")

[node name="UpTextureButton" type="TextureButton" parent="ClientPanel"]
layout_mode = 0
offset_left = 56.0
offset_top = 36.0
offset_right = 96.0
offset_bottom = 76.0
texture_normal = ExtResource("6_x4kxo")
texture_pressed = ExtResource("6_x4kxo")
texture_hover = ExtResource("6_x4kxo")
texture_disabled = ExtResource("6_x4kxo")
texture_focused = ExtResource("6_x4kxo")
stretch_mode = 0

[node name="DownTextureButton" type="TextureButton" parent="ClientPanel"]
layout_mode = 0
offset_left = 54.0
offset_top = 79.0
offset_right = 94.0
offset_bottom = 119.0
texture_normal = ExtResource("7_j7jj7")
texture_pressed = ExtResource("7_j7jj7")
texture_hover = ExtResource("7_j7jj7")
texture_disabled = ExtResource("7_j7jj7")
texture_focused = ExtResource("7_j7jj7")
stretch_mode = 0

[node name="LeftTextureButton" type="TextureButton" parent="ClientPanel"]
layout_mode = 0
offset_left = 9.0
offset_top = 79.0
offset_right = 49.0
offset_bottom = 119.0
texture_normal = ExtResource("8_jpdbo")
texture_pressed = ExtResource("8_jpdbo")
texture_hover = ExtResource("8_jpdbo")
texture_disabled = ExtResource("8_jpdbo")
texture_focused = ExtResource("8_jpdbo")
stretch_mode = 0

[node name="RightTextureButton" type="TextureButton" parent="ClientPanel"]
layout_mode = 0
offset_left = 97.0
offset_top = 79.0
offset_right = 137.0
offset_bottom = 119.0
texture_normal = ExtResource("9_d7qsu")
texture_pressed = ExtResource("9_d7qsu")
texture_hover = ExtResource("9_d7qsu")
texture_disabled = ExtResource("9_d7qsu")
texture_focused = ExtResource("9_d7qsu")
stretch_mode = 0

[node name="AttackTextureButton" type="TextureButton" parent="ClientPanel"]
layout_mode = 0
offset_left = 211.0
offset_top = 45.0
offset_right = 268.0
offset_bottom = 107.0
texture_normal = ExtResource("10_awiyy")
texture_pressed = ExtResource("10_awiyy")
texture_hover = ExtResource("10_awiyy")
texture_disabled = ExtResource("10_awiyy")
texture_focused = ExtResource("10_awiyy")
stretch_mode = 0

[connection signal="button_up" from="ClientServerSelectionPanel/ClientServerSelectionPanelContainer/ServerButton" to="ClientServerSelectionPanel" method="ServerButtonClicked"]
[connection signal="button_up" from="ClientServerSelectionPanel/ClientServerSelectionPanelContainer/ClientButton" to="ClientServerSelectionPanel" method="ClientButtonClicked"]
[connection signal="button_up" from="ServerPanel/ServerPanelVBoxContainer/StartGameButton" to="ServerPanel" method="StartGameClicked"]
[connection signal="button_up" from="ClientPanel/Power0Button" to="ClientPanel" method="UsePower" binds= [0]]
[connection signal="button_up" from="ClientPanel/Power1Button" to="ClientPanel" method="UsePower" binds= [1]]
[connection signal="button_up" from="ClientPanel/Power2Button" to="ClientPanel" method="UsePower" binds= [2]]
[connection signal="button_up" from="ClientPanel/UpTextureButton" to="ClientPanel" method="_on_up_texture_button_button_up"]
[connection signal="button_up" from="ClientPanel/DownTextureButton" to="ClientPanel" method="_on_down_texture_button_button_up"]
[connection signal="button_up" from="ClientPanel/LeftTextureButton" to="ClientPanel" method="_on_left_texture_button_button_up"]
[connection signal="button_up" from="ClientPanel/RightTextureButton" to="ClientPanel" method="_on_right_texture_button_button_up"]
[connection signal="button_up" from="ClientPanel/AttackTextureButton" to="ClientPanel" method="_on_attack_texture_button_button_up"]
